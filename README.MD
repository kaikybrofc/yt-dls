# yt-dls

API simples e leve para download de vÃ­deos do **YouTube** utilizando **yt-dlp** com **Node.js** e **Express**.

Projeto focado em:

* Facilidade de uso
* OrganizaÃ§Ã£o
* Pronto para VPS / produÃ§Ã£o
* IntegraÃ§Ã£o via API REST

---

## ğŸš€ Funcionalidades

* âœ… Download de vÃ­deos do YouTube
* ğŸ” ValidaÃ§Ã£o de links (somente YouTube)
* ğŸ” Suporte a cookies (anti-bot)
* ğŸ§  Uso de runtime JavaScript exigido pelo YouTube
* ğŸŒ API REST simples (`POST /download`)
* ğŸ“ OrganizaÃ§Ã£o automÃ¡tica de arquivos

---

## ğŸ§± Tecnologias utilizadas

* Node.js
* Express
* yt-dlp
* yt-dlp-wrap

---

## ğŸ“ Estrutura do projeto

```text
yt-dls/
â”œâ”€ server.js        # API principal
â”œâ”€ install.js       # Script de instalaÃ§Ã£o do yt-dlp
â”œâ”€ package.json
â”œâ”€ cookies.txt      # Cookies do YouTube (formato Netscape)
â”œâ”€ bin/
â”‚  â””â”€ yt-dlp        # BinÃ¡rio do yt-dlp
â””â”€ downloads/
   â””â”€ video-xxxx.mp4
```

---

## ğŸ“¦ InstalaÃ§Ã£o

### 1ï¸âƒ£ Clonar o repositÃ³rio

```bash
git clone https://github.com/kaikybrofc/yt-dls.git
cd yt-dls
```

---

### 2ï¸âƒ£ Instalar dependÃªncias

```bash
npm install
```

---

### 3ï¸âƒ£ Instalar o yt-dlp

```bash
npm run install:yt-dlp
```

Isso irÃ¡ baixar automaticamente o binÃ¡rio correto do **yt-dlp** para seu sistema.

---

## ğŸ” ConfiguraÃ§Ã£o de cookies (OBRIGATÃ“RIO)

O YouTube bloqueia downloads sem autenticaÃ§Ã£o em VPS.

### âœ… Forma correta

1. FaÃ§a login no YouTube pelo navegador
2. Instale a extensÃ£o **Get cookies.txt (LOCALLY)**
3. Exporte os cookies
4. Salve o arquivo como `cookies.txt` na raiz do projeto

âš ï¸ O arquivo **precisa** estar no formato **Netscape**.

---

## â–¶ï¸ Executando a API

```bash
npm start
```

Servidor rodando em:

```
http://localhost:3000
```

---

## ğŸŒ Endpoints

### ğŸ”¹ Health check

```http
GET /
```

Resposta:

```json
{
  "status": "API yt-dlp online ğŸš€"
}
```

---

### ğŸ”¹ Download de vÃ­deo

```http
POST /download
Content-Type: application/json
```

Body:

```json
{
  "link": "https://youtu.be/VIDEO_ID"
}
```

---

### âœ… Resposta de sucesso

```json
{
  "sucesso": true,
  "mensagem": "ğŸ“¥ Download iniciado com sucesso.",
  "arquivo": "video-1700000000000.mp4"
}
```

---

### âŒ Erros comuns

Link invÃ¡lido:

```json
{
  "sucesso": false,
  "mensagem": "âŒ O link informado nÃ£o Ã© do YouTube."
}
```

Cookies ausentes:

```json
{
  "sucesso": false,
  "mensagem": "âŒ Arquivo cookies.txt nÃ£o encontrado."
}
```

---

## ğŸ“Œ ObservaÃ§Ãµes importantes

* ğŸš« NÃ£o copie cookies manualmente do navegador
* âœ… Use sempre cookies no formato Netscape
* âš ï¸ NÃ£o exponha sua API publicamente sem autenticaÃ§Ã£o
* ğŸ’¡ Ideal para uso interno ou controlado

---

## ğŸ›£ï¸ Roadmap (futuras melhorias)

* ğŸ”„ Status de download
* ğŸ“Š Progresso em tempo real (WebSocket)
* ğŸ§µ Fila de downloads
* ğŸ” AutenticaÃ§Ã£o por token
* ğŸ³ Docker

---

## ğŸ‘¤ Autor

**Kaiky Brito**
ğŸ”— GitHub: [https://github.com/kaikybrofc](https://github.com/kaikybrofc)

---

## ğŸ“„ LicenÃ§a

MIT License

---

ğŸš€ Projeto pronto para evoluir. ContribuiÃ§Ãµes sÃ£o bem-vindas
